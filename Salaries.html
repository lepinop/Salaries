
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Tendencias Salariales en Empleos de Ciencia de Datos, AI y ML (2025) &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Salaries';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Modelo original: SalPred‚ÄëTrans ‚Äî Transformer tabular cuant√≠lico + Conformal Prediction" href="SalPredTrans_Improved_Grid.html" />
    <link rel="prev" title="Modelos Cl√°sicos vs. Transformers: Un Enfoque Comparativo en Regresi√≥n Tabular" href="intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/Salaries.png" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="_static/Salaries.png" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Modelos Cl√°sicos vs. Transformers: Un Enfoque Comparativo en Regresi√≥n Tabular
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><strong>Tendencias Salariales en Empleos de Ciencia de Datos, AI y ML (2025)</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="SalPredTrans_Improved_Grid.html"><strong>Modelo original: SalPred‚ÄëTrans ‚Äî Transformer tabular cuant√≠lico + Conformal Prediction</strong></a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FSalaries.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Salaries.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Tendencias Salariales en Empleos de Ciencia de Datos, AI y ML (2025)</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduccion"><strong>Introducci√≥n</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#objetivo"><strong>Objetivo</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#importaciones-y-configuracion-inicial">1. Importaciones y configuraci√≥n inicial</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#carga-de-datos-y-seleccion-de-columnas">2. Carga de datos y selecci√≥n de columnas</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-exploratorio-de-datos-eda">3. An√°lisis exploratorio de datos - EDA</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dataset"><strong>Dataset</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables"><strong>Variables</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#distribucion-de-variables-numericas">Distribuci√≥n de variables num√©ricas</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#distribucion-de-variables-categoricas">Distribuci√≥n de variables categ√≥ricas</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tasa-anual-de-contratacion-de-profesionales-en-ciencia-de-datos">Tasa anual de contrataci√≥n de profesionales en ciencia de datos</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#impacto-del-nivel-de-experiencia-en-las-oportunidades-de-empleo-cada-ano">Impacto del nivel de experiencia en las oportunidades de empleo cada a√±o</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cambio-de-salarios-a-lo-largo-del-tiemp">Cambio de salarios a lo largo del tiemp</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#distribucion-salarial-segun-el-nivel-de-experiencia">Distribuci√≥n salarial seg√∫n el nivel de experiencia</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#salarios-segun-el-tipo-de-empleo">Salarios seg√∫n el tipo de empleo</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#titulos-de-trabajo-con-los-salarios-promedios-mas-altos">T√≠tulos de trabajo con los salarios promedios m√°s altos</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#los-titulos-de-trabajo-mas-comunes">Los t√≠tulos de trabajo m√°s comunes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#impacto-del-trabajo-remoto-en-el-salario">Impacto del trabajo remoto en el salario</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#influencia-del-tamano-de-la-empresa-en-el-salario">Influencia del tama√±o de la empresa en el salario</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#relacion-entre-el-tamano-de-la-empresa-y-la-contratacion-de-empleados-remotos">Relaci√≥n entre el tama√±o de la empresa y la contrataci√≥n de empleados remotos</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#matriz-de-correlacion">Matriz de correlaci√≥n</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#split-train-test">4. Split Train / Test</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocesamiento">5. Preprocesamiento</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelos-y-busqueda-de-hiperparametros">6. Modelos y b√∫squeda de hiperpar√°metros</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#funciones-auxiliares">7. Funciones auxiliares</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loop-para-evaluar-modelos-graficas-bds-resultados-en-log">8. Loop para evaluar modelos + gr√°ficas + BDS - resultados en Log</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dataframe-de-resultados-y-grafico-comparativo-salario-en-usd">9. DataFrame de resultados y gr√°fico comparativo - Salario en USD</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion"><strong>Conclusi√≥n</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resultados-del-test-bds"><strong>Resultados del Test BDS</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion-general">Conclusi√≥n general:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#recomendaciones">üìå Recomendaciones</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="tendencias-salariales-en-empleos-de-ciencia-de-datos-ai-y-ml-2025">
<h1><strong>Tendencias Salariales en Empleos de Ciencia de Datos, AI y ML (2025)</strong><a class="headerlink" href="#tendencias-salariales-en-empleos-de-ciencia-de-datos-ai-y-ml-2025" title="Link to this heading">#</a></h1>
<p><strong>Autores:</strong> Laura Cardona Ahumada, Elian Martinez Orozco, Evelyn Mondul y Luis Pino Perez</p>
<p><strong>Fecha:</strong> agosto 2025</p>
<hr class="docutils" />
<section id="introduccion">
<h2><strong>Introducci√≥n</strong><a class="headerlink" href="#introduccion" title="Link to this heading">#</a></h2>
<p>Esta base de datos presenta informaci√≥n actualizada sobre salarios globales en 2025 para profesionales de Ciencia de Datos, Aprendizaje Autom√°tico e Inteligencia Artificial. Fue construida a partir de fuentes p√∫blicas como AIJobs, 365DataScience, Payscale, KDnuggets y ZipRecruiter, y est√° orientada a apoyar an√°lisis de mercado, modelos predictivos, visualizaciones interactivas y estudios sobre trabajo remoto.</p>
<p>El conjunto de datos fue obtenido desde Kaggle, a partir del recurso publicado por el usuario adilshamim8 bajo el t√≠tulo ‚ÄúSalaries for Data Science Jobs‚Äù: <a class="reference external" href="https://www.kaggle.com/datasets/adilshamim8/salaries-for-data-science-jobs?resource=download">https://www.kaggle.com/datasets/adilshamim8/salaries-for-data-science-jobs?resource=download</a>. Su contenido resulta √∫til para investigadores, profesionales del sector, estudiantes y reclutadores que buscan entender las din√°micas actuales de compensaci√≥n en el √°mbito tecnol√≥gico.</p>
<hr class="docutils" />
</section>
<section id="objetivo">
<h2><strong>Objetivo</strong><a class="headerlink" href="#objetivo" title="Link to this heading">#</a></h2>
<p>El presente an√°lisis tiene como objetivo desarrollar un modelo de aprendizaje autom√°tico capaz de predecir el rango salarial de empleos relacionados con Ciencia de Datos, Inteligencia Artificial y Aprendizaje Autom√°tico, a partir de informaci√≥n sobre caracter√≠sticas laborales y profesionales.<br />
Adem√°s, se realizar√° un an√°lisis exploratorio detallado de los datos para identificar patrones, desigualdades y factores determinantes del salario en estas √°reas tecnol√≥gicas emergentes.</p>
<hr class="docutils" />
<p>En este notebook se encuentran las siguientes sesiones:</p>
<ol class="arabic simple">
<li><p>Importaciones y configuraci√≥n inicial</p></li>
<li><p>Carga de datos y selecci√≥n de columnas</p></li>
<li><p>An√°lisis exploratorio de datos - EDA</p></li>
<li><p>Split Train / Validation / Test</p></li>
<li><p>Preprocesamiento</p></li>
<li><p>Modelos y b√∫squeda de hiperpar√°metros</p></li>
<li><p>Funciones auxiliares</p></li>
<li><p>Loop para evaluar modelos + gr√°ficas + BDS</p></li>
<li><p>DataFrame de resultados y gr√°fico comparativo</p></li>
</ol>
</section>
<section id="importaciones-y-configuracion-inicial">
<h2>1. Importaciones y configuraci√≥n inicial<a class="headerlink" href="#importaciones-y-configuracion-inicial" title="Link to this heading">#</a></h2>
<p>Aqu√≠ cargamos todas las librer√≠as necesarias:</p>
<ol class="arabic simple">
<li><p>Sklearn ‚Üí para modelos, pipelines, m√©tricas y validaci√≥n cruzada.</p></li>
<li><p>XGBoost y MLP ‚Üí modelos m√°s avanzados.</p></li>
<li><p>statsmodels.tsa.stattools ‚Üí para el BDS test en los residuos.</p></li>
<li><p>Matplotlib / PrettyTable ‚Üí para gr√°ficos y tablas estructuradas.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.compose</span><span class="w"> </span><span class="kn">import</span> <span class="n">ColumnTransformer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">OneHotEncoder</span><span class="p">,</span> <span class="n">MaxAbsScaler</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.impute</span><span class="w"> </span><span class="kn">import</span> <span class="n">SimpleImputer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.linear_model</span><span class="w"> </span><span class="kn">import</span> <span class="n">Ridge</span><span class="p">,</span> <span class="n">Lasso</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neighbors</span><span class="w"> </span><span class="kn">import</span> <span class="n">KNeighborsRegressor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.tree</span><span class="w"> </span><span class="kn">import</span> <span class="n">DecisionTreeRegressor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.svm</span><span class="w"> </span><span class="kn">import</span> <span class="n">SVR</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neural_network</span><span class="w"> </span><span class="kn">import</span> <span class="n">MLPRegressor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">GridSearchCV</span><span class="p">,</span> <span class="n">RandomizedSearchCV</span><span class="p">,</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">mean_absolute_error</span><span class="p">,</span> <span class="n">mean_squared_error</span><span class="p">,</span> <span class="n">mean_absolute_percentage_error</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">xgboost</span><span class="w"> </span><span class="kn">import</span> <span class="n">XGBRegressor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">randint</span><span class="p">,</span> <span class="n">uniform</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">statsmodels.tsa.stattools</span><span class="w"> </span><span class="kn">import</span> <span class="n">bds</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">prettytable</span><span class="w"> </span><span class="kn">import</span> <span class="n">PrettyTable</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="carga-de-datos-y-seleccion-de-columnas">
<h2>2. Carga de datos y selecci√≥n de columnas<a class="headerlink" href="#carga-de-datos-y-seleccion-de-columnas" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Leemos el archivo salaries.csv.</p></li>
<li><p>Definimos variables categ√≥ricas (ejemplo: job_title, company_size) y num√©ricas (ejemplo: salario, work_year).</p></li>
<li><p>Construimos X_full (features) y y_full_price (target ‚Üí salary_in_usd).</p></li>
</ol>
<p>Aqu√≠ limpiamos y organizamos el dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">DATA_PATH</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;C:\Users\LUIS PINO\Documents\Machine_learning\Proyecto_final\salaries.csv&quot;</span>
<span class="n">defg</span><span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">DATA_PATH</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">defg</span><span class="p">[</span><span class="n">defg</span><span class="p">[</span><span class="s1">&#39;work_year&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2025</span><span class="p">]</span>

<span class="n">categorical_features</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;experience_level&#39;</span><span class="p">,</span><span class="s1">&#39;employment_type&#39;</span><span class="p">,</span><span class="s1">&#39;job_title&#39;</span><span class="p">,</span><span class="s1">&#39;salary_currency&#39;</span><span class="p">,</span><span class="s1">&#39;employee_residence&#39;</span><span class="p">,</span><span class="s1">&#39;company_location&#39;</span><span class="p">,</span><span class="s1">&#39;company_size&#39;</span><span class="p">]</span>
<span class="n">numeric_features</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;salary&#39;</span><span class="p">,</span><span class="s1">&#39;salary_in_usd&#39;</span><span class="p">,</span><span class="s1">&#39;remote_ratio&#39;</span><span class="p">]</span>

<span class="n">categorical_features</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">categorical_features</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
<span class="n">numeric_features</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">numeric_features</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>

<span class="n">X_full</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">categorical_features</span> <span class="o">+</span> <span class="n">numeric_features</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">y_full_price</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;salary_in_usd&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="analisis-exploratorio-de-datos-eda">
<h2>3. An√°lisis exploratorio de datos - EDA<a class="headerlink" href="#analisis-exploratorio-de-datos-eda" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;whitegrid&#39;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;Set2&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

<span class="c1"># Mostrar las primeras filas</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>work_year</th>
      <th>experience_level</th>
      <th>employment_type</th>
      <th>job_title</th>
      <th>salary</th>
      <th>salary_currency</th>
      <th>salary_in_usd</th>
      <th>employee_residence</th>
      <th>remote_ratio</th>
      <th>company_location</th>
      <th>company_size</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2025</td>
      <td>EX</td>
      <td>FT</td>
      <td>Head of Data</td>
      <td>348516</td>
      <td>USD</td>
      <td>348516</td>
      <td>US</td>
      <td>0</td>
      <td>US</td>
      <td>M</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2025</td>
      <td>EX</td>
      <td>FT</td>
      <td>Head of Data</td>
      <td>232344</td>
      <td>USD</td>
      <td>232344</td>
      <td>US</td>
      <td>0</td>
      <td>US</td>
      <td>M</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2025</td>
      <td>SE</td>
      <td>FT</td>
      <td>Data Scientist</td>
      <td>145400</td>
      <td>USD</td>
      <td>145400</td>
      <td>US</td>
      <td>0</td>
      <td>US</td>
      <td>M</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2025</td>
      <td>SE</td>
      <td>FT</td>
      <td>Data Scientist</td>
      <td>81600</td>
      <td>USD</td>
      <td>81600</td>
      <td>US</td>
      <td>0</td>
      <td>US</td>
      <td>M</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2025</td>
      <td>MI</td>
      <td>FT</td>
      <td>Engineer</td>
      <td>160000</td>
      <td>USD</td>
      <td>160000</td>
      <td>US</td>
      <td>100</td>
      <td>US</td>
      <td>M</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<section id="dataset">
<h3><strong>Dataset</strong><a class="headerlink" href="#dataset" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Dimensiones</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Filas: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">, Columnas: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Tipos de datos</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>

<span class="c1"># Informaci√≥n general</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>

<span class="c1"># Estad√≠sticas descriptivas</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">))</span>

<span class="c1"># duplicadas</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Filas duplicadas:&quot;</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Filas: 78726, Columnas: 11
work_year              int64
experience_level      object
employment_type       object
job_title             object
salary                 int64
salary_currency       object
salary_in_usd          int64
employee_residence    object
remote_ratio           int64
company_location      object
company_size          object
dtype: object
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Index: 78726 entries, 0 to 78850
Data columns (total 11 columns):
 #   Column              Non-Null Count  Dtype 
---  ------              --------------  ----- 
 0   work_year           78726 non-null  int64 
 1   experience_level    78726 non-null  object
 2   employment_type     78726 non-null  object
 3   job_title           78726 non-null  object
 4   salary              78726 non-null  int64 
 5   salary_currency     78726 non-null  object
 6   salary_in_usd       78726 non-null  int64 
 7   employee_residence  78726 non-null  object
 8   remote_ratio        78726 non-null  int64 
 9   company_location    78726 non-null  object
 10  company_size        78726 non-null  object
dtypes: int64(4), object(7)
memory usage: 7.2+ MB
None
        work_year experience_level employment_type          job_title  \
count     78726.0            78726           78726              78726   
unique        NaN                4               3                316   
top           NaN               SE              FT  Software Engineer   
freq          NaN            44827           78163               9191   
mean       2025.0              NaN             NaN                NaN   
std           0.0              NaN             NaN                NaN   
min        2025.0              NaN             NaN                NaN   
25%        2025.0              NaN             NaN                NaN   
50%        2025.0              NaN             NaN                NaN   
75%        2025.0              NaN             NaN                NaN   
max        2025.0              NaN             NaN                NaN   

              salary salary_currency  salary_in_usd employee_residence  \
count   7.872600e+04           78726   78726.000000              78726   
unique           NaN              18            NaN                 74   
top              NaN             USD            NaN                 US   
freq             NaN           74162            NaN              69914   
mean    1.629982e+05             NaN  157018.982585                NaN   
std     2.206844e+05             NaN   75599.012724                NaN   
min     1.440000e+04             NaN   15157.000000                NaN   
25%     1.050000e+05             NaN  104885.250000                NaN   
50%     1.460000e+05             NaN  145100.000000                NaN   
75%     1.975000e+05             NaN  197000.000000                NaN   
max     3.000000e+07             NaN  800000.000000                NaN   

        remote_ratio company_location company_size  
count   78726.000000            78726        78726  
unique           NaN               73            3  
top              NaN               US            M  
freq             NaN            69920        77189  
mean       20.316033              NaN          NaN  
std        40.219553              NaN          NaN  
min         0.000000              NaN          NaN  
25%         0.000000              NaN          NaN  
50%         0.000000              NaN          NaN  
75%         0.000000              NaN          NaN  
max       100.000000              NaN          NaN  

Filas duplicadas: 40444
</pre></div>
</div>
</div>
</div>
</section>
<section id="variables">
<h3><strong>Variables</strong><a class="headerlink" href="#variables" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Index: 78726 entries, 0 to 78850
Data columns (total 11 columns):
 #   Column              Non-Null Count  Dtype 
---  ------              --------------  ----- 
 0   work_year           78726 non-null  int64 
 1   experience_level    78726 non-null  object
 2   employment_type     78726 non-null  object
 3   job_title           78726 non-null  object
 4   salary              78726 non-null  int64 
 5   salary_currency     78726 non-null  object
 6   salary_in_usd       78726 non-null  int64 
 7   employee_residence  78726 non-null  object
 8   remote_ratio        78726 non-null  int64 
 9   company_location    78726 non-null  object
 10  company_size        78726 non-null  object
dtypes: int64(4), object(7)
memory usage: 7.2+ MB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>work_year</th>
      <th>salary</th>
      <th>salary_in_usd</th>
      <th>remote_ratio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>78726.0</td>
      <td>7.872600e+04</td>
      <td>78726.000000</td>
      <td>78726.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>2025.0</td>
      <td>1.629982e+05</td>
      <td>157018.982585</td>
      <td>20.316033</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.0</td>
      <td>2.206844e+05</td>
      <td>75599.012724</td>
      <td>40.219553</td>
    </tr>
    <tr>
      <th>min</th>
      <td>2025.0</td>
      <td>1.440000e+04</td>
      <td>15157.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>2025.0</td>
      <td>1.050000e+05</td>
      <td>104885.250000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>2025.0</td>
      <td>1.460000e+05</td>
      <td>145100.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2025.0</td>
      <td>1.975000e+05</td>
      <td>197000.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>2025.0</td>
      <td>3.000000e+07</td>
      <td>800000.000000</td>
      <td>100.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>El 93% de los datos corresponden a 2024‚Äì2025. Los salarios t√≠picos en USD se ubican entre 105,000 y 198,000, aunque existen outliers muy altos (hasta 800,000). La mitad de los empleos son presenciales, con una proporci√≥n menor en teletrabajo total.</p>
<section id="distribucion-de-variables-numericas">
<h4>Distribuci√≥n de variables num√©ricas<a class="headerlink" href="#distribucion-de-variables-numericas" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span>

<span class="n">numerical_cols</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">)</span><span class="o">.</span><span class="n">columns</span>
<span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">numerical_cols</span><span class="p">)</span>

<span class="c1"># Calcular filas y columnas autom√°ticamente</span>
<span class="n">cols</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">rows</span> <span class="o">=</span> <span class="p">(</span><span class="n">n</span> <span class="o">//</span> <span class="n">cols</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">n</span> <span class="o">%</span> <span class="n">cols</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">cols</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="n">rows</span> <span class="o">*</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">axes</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">numerical_cols</span><span class="p">):</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#4C72B0&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">(),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;crimson&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;darkgreen&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s2">&quot;bold&quot;</span><span class="p">)</span>

<span class="c1"># Eliminar ejes vac√≠os</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">axes</span><span class="p">)):</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">delaxes</span><span class="p">(</span><span class="n">axes</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/d8bccf6b5c6de2c17b6de23c7e6665dca9829ee68811402f63ec19ed81e831df.png" src="_images/d8bccf6b5c6de2c17b6de23c7e6665dca9829ee68811402f63ec19ed81e831df.png" />
</div>
</div>
</section>
<section id="distribucion-de-variables-categoricas">
<h4>Distribuci√≥n de variables categ√≥ricas<a class="headerlink" href="#distribucion-de-variables-categoricas" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span>
<span class="n">palette_cat</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">&quot;Set2&quot;</span><span class="p">)</span>

<span class="c1"># Funci√≥n auxiliar: Top N</span>
<span class="k">def</span><span class="w"> </span><span class="nf">plot_top_categories</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Grafica un countplot con las Top N categor√≠as m√°s frecuentes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">top_values</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">nlargest</span><span class="p">(</span><span class="n">top_n</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top_values</span><span class="p">)]</span>

    <span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
        <span class="n">x</span><span class="o">=</span><span class="n">col</span><span class="p">,</span>
        <span class="n">order</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
        <span class="n">palette</span><span class="o">=</span><span class="n">palette_cat</span><span class="p">,</span>
        <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span>
        <span class="n">ax</span><span class="o">=</span><span class="n">ax</span>
    <span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1"> (Top </span><span class="si">{</span><span class="n">top_n</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;darkblue&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Frecuencia&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>

    <span class="c1"># Etiquetas en las barras</span>
    <span class="k">for</span> <span class="n">bar</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">patches</span><span class="p">:</span>
        <span class="n">height</span> <span class="o">=</span> <span class="n">bar</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">height</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> 
                        <span class="p">(</span><span class="n">bar</span><span class="o">.</span><span class="n">get_x</span><span class="p">()</span> <span class="o">+</span> <span class="n">bar</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span>
                        <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
                        <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                        <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">ax</span>


<span class="c1"># Gr√°ficas categ√≥ricas</span>
<span class="n">categorical_cols</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">columns</span>

<span class="c1"># Ajustes para columnas espec√≠ficas</span>
<span class="n">special_top</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;job_title&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>            
    <span class="s2">&quot;employee_residence&quot;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>   
    <span class="s2">&quot;company_location&quot;</span><span class="p">:</span> <span class="mi">15</span>      
<span class="p">}</span>

<span class="c1"># Excluir salary_currency (lo graficamos como pastel)</span>
<span class="n">categorical_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">categorical_cols</span> <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="s2">&quot;salary_currency&quot;</span><span class="p">]</span>

<span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">categorical_cols</span><span class="p">)</span>
<span class="n">cols</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">rows</span> <span class="o">=</span> <span class="p">(</span><span class="n">n</span> <span class="o">//</span> <span class="n">cols</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">n</span> <span class="o">%</span> <span class="n">cols</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">cols</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="n">rows</span> <span class="o">*</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">axes</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">categorical_cols</span><span class="p">):</span>
    <span class="n">top_n</span> <span class="o">=</span> <span class="n">special_top</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>  <span class="c1"># por defecto Top 15</span>
    <span class="n">plot_top_categories</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="n">top_n</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="c1"># Eliminar ejes sobrantes</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">axes</span><span class="p">)):</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">delaxes</span><span class="p">(</span><span class="n">axes</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


<span class="c1"># Gr√°fico de Salary Currency</span>

<span class="n">currency_counts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;salary_currency&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">currency_counts</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">currency_counts</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
        <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">&quot;Set3&quot;</span><span class="p">),</span> <span class="n">startangle</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribuci√≥n de Salary Currency&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s2">&quot;bold&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;darkblue&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\LUIS PINO\AppData\Local\Temp\ipykernel_39504\2877972932.py:12: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.

  ax = sns.countplot(
C:\Users\LUIS PINO\AppData\Local\Temp\ipykernel_39504\2877972932.py:12: UserWarning: The palette list has more values (8) than needed (4), which may not be intended.
  ax = sns.countplot(
C:\Users\LUIS PINO\AppData\Local\Temp\ipykernel_39504\2877972932.py:12: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.

  ax = sns.countplot(
C:\Users\LUIS PINO\AppData\Local\Temp\ipykernel_39504\2877972932.py:12: UserWarning: The palette list has more values (8) than needed (3), which may not be intended.
  ax = sns.countplot(
C:\Users\LUIS PINO\AppData\Local\Temp\ipykernel_39504\2877972932.py:12: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.

  ax = sns.countplot(
C:\Users\LUIS PINO\AppData\Local\Temp\ipykernel_39504\2877972932.py:12: UserWarning: 
The palette list has fewer values (8) than needed (20) and will cycle, which may produce an uninterpretable plot.
  ax = sns.countplot(
C:\Users\LUIS PINO\AppData\Local\Temp\ipykernel_39504\2877972932.py:12: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.

  ax = sns.countplot(
C:\Users\LUIS PINO\AppData\Local\Temp\ipykernel_39504\2877972932.py:12: UserWarning: 
The palette list has fewer values (8) than needed (15) and will cycle, which may produce an uninterpretable plot.
  ax = sns.countplot(
C:\Users\LUIS PINO\AppData\Local\Temp\ipykernel_39504\2877972932.py:12: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.

  ax = sns.countplot(
C:\Users\LUIS PINO\AppData\Local\Temp\ipykernel_39504\2877972932.py:12: UserWarning: 
The palette list has fewer values (8) than needed (15) and will cycle, which may produce an uninterpretable plot.
  ax = sns.countplot(
C:\Users\LUIS PINO\AppData\Local\Temp\ipykernel_39504\2877972932.py:12: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.

  ax = sns.countplot(
C:\Users\LUIS PINO\AppData\Local\Temp\ipykernel_39504\2877972932.py:12: UserWarning: The palette list has more values (8) than needed (3), which may not be intended.
  ax = sns.countplot(
</pre></div>
</div>
<img alt="_images/0f43fe49f6c758ae9d82e4ec5520608900fb66b70f93f86b90022a9ab7a9b195.png" src="_images/0f43fe49f6c758ae9d82e4ec5520608900fb66b70f93f86b90022a9ab7a9b195.png" />
<img alt="_images/1024752590978b56f8d7429feac4a12840e73ed1829566aba5cb88a838ed6589.png" src="_images/1024752590978b56f8d7429feac4a12840e73ed1829566aba5cb88a838ed6589.png" />
</div>
</div>
</section>
</section>
<section id="tasa-anual-de-contratacion-de-profesionales-en-ciencia-de-datos">
<h3>Tasa anual de contrataci√≥n de profesionales en ciencia de datos<a class="headerlink" href="#tasa-anual-de-contratacion-de-profesionales-en-ciencia-de-datos" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;work_year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>work_year
2025    78726
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<section id="impacto-del-nivel-de-experiencia-en-las-oportunidades-de-empleo-cada-ano">
<h4>Impacto del nivel de experiencia en las oportunidades de empleo cada a√±o<a class="headerlink" href="#impacto-del-nivel-de-experiencia-en-las-oportunidades-de-empleo-cada-ano" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;work_year&#39;</span><span class="p">)[</span><span class="s1">&#39;experience_level&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>work_year  experience_level
2025       SE                  44827
           MI                  24400
           EN                   6828
           EX                   2671
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_counts</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;work_year&#39;</span><span class="p">)[</span><span class="s1">&#39;experience_level&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">df_props</span> <span class="o">=</span> <span class="n">df_counts</span><span class="o">.</span><span class="n">div</span><span class="p">(</span><span class="n">df_counts</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">df_props</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Years&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Work Experience&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Work Experience by Years&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0bb6a6980038664f8eae4a5ba9eee6dc0eae4844a67d70ac23f739d00c77b802.png" src="_images/0bb6a6980038664f8eae4a5ba9eee6dc0eae4844a67d70ac23f739d00c77b802.png" />
</div>
</div>
<p>Se puede evidenciar que el mercado de Ciencia de Datos favorece perfiles Senior y Mid-level, pero sigue abriendo espacio para entry-level, aunque en menor medida.</p>
</section>
<section id="cambio-de-salarios-a-lo-largo-del-tiemp">
<h4>Cambio de salarios a lo largo del tiemp<a class="headerlink" href="#cambio-de-salarios-a-lo-largo-del-tiemp" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;work_year&#39;</span><span class="p">)[</span><span class="s1">&#39;salary_in_usd&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>work_year
2025    157018.982585
Name: salary_in_usd, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Despu√©s de una ligera ca√≠da en 2021, los salarios han mostrado una tendencia creciente hasta 2024, con una leve disminuci√≥n en 2025.</p>
</section>
<section id="distribucion-salarial-segun-el-nivel-de-experiencia">
<h4>Distribuci√≥n salarial seg√∫n el nivel de experiencia<a class="headerlink" href="#distribucion-salarial-segun-el-nivel-de-experiencia" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;experience_level&#39;</span><span class="p">)[</span><span class="s1">&#39;salary_in_usd&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>experience_level
EN     96141.221002
EX    201188.182329
MI    141753.112295
SE    171969.451246
Name: salary_in_usd, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s1">&#39;salary_in_usd&#39;</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="s1">&#39;experience_level&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Salary Distribution by Experience Level&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Experience Level&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Salaries in USD&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/6b613833f07b4864eacd3403238a7176ce801ec4b689011df63817deb31af0b1.png" src="_images/6b613833f07b4864eacd3403238a7176ce801ec4b689011df63817deb31af0b1.png" />
</div>
</div>
<p>Los resultados muestran que el nivel de experiencia tiene un impacto claro en los salarios promedio.</p>
</section>
<section id="salarios-segun-el-tipo-de-empleo">
<h4>Salarios seg√∫n el tipo de empleo<a class="headerlink" href="#salarios-segun-el-tipo-de-empleo" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;employment_type&#39;</span><span class="p">)[</span><span class="s1">&#39;salary_in_usd&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>employment_type
CT    102683.996855
FT    157494.825736
PT     75734.073469
Name: salary_in_usd, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s1">&#39;salary_in_usd&#39;</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="s1">&#39;employment_type&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Salary Distribution by Employment type&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Employment type&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Salaries in USD&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9d40b84ea78351c1d0e17b8a05b52ec44d10648ae192c9f1edae283d4ea0b09f.png" src="_images/9d40b84ea78351c1d0e17b8a05b52ec44d10648ae192c9f1edae283d4ea0b09f.png" />
</div>
</div>
<p>Se puede observar que los profesionales a tiempo completo son quienes reciben los salarios m√°s altos en promedio, mientras que los freelancers y los de medio tiempo ganan bastante menos.</p>
</section>
<section id="titulos-de-trabajo-con-los-salarios-promedios-mas-altos">
<h4>T√≠tulos de trabajo con los salarios promedios m√°s altos<a class="headerlink" href="#titulos-de-trabajo-con-los-salarios-promedios-mas-altos" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;job_title&#39;</span><span class="p">)[</span><span class="s1">&#39;salary_in_usd&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>job_title
Research Team Lead                450000.0
IT Enterprise Data Architect      284090.0
Head of Applied AI                281500.0
AIRS Solutions Specialist         263250.0
Director of Product Management    260000.0
Commercial Counsel                250000.0
Head of Machine Learning          250000.0
Name: salary_in_usd, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;job_title&#39;</span><span class="p">)[</span><span class="s1">&#39;salary_in_usd&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Job Title&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Salary in USD&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Median Salary by Job Title&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1746ef4824a8f7a4f455d22ef302695a0711e033981768930f7e973d61e27abd.png" src="_images/1746ef4824a8f7a4f455d22ef302695a0711e033981768930f7e973d61e27abd.png" />
</div>
</div>
<p>Nos confirma que los puestos de liderazgo y gesti√≥n en ciencia de datos, anal√≠tica e inteligencia artificial son los que concentran los salarios m√°s altos.</p>
</section>
</section>
<section id="los-titulos-de-trabajo-mas-comunes">
<h3>Los t√≠tulos de trabajo m√°s comunes<a class="headerlink" href="#los-titulos-de-trabajo-mas-comunes" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;job_title&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>job_title
Software Engineer    9191
Data Scientist       7358
Engineer             6986
Data Engineer        6974
Data Analyst         6499
Manager              5359
Analyst              4005
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;job_title&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">barh</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Job Title&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Number of Job Title&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Number of Common Job Title&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/db4ea3b9e43be91850a680dd8511e34864904109dfbf57042632169ae0573eab.png" src="_images/db4ea3b9e43be91850a680dd8511e34864904109dfbf57042632169ae0573eab.png" />
</div>
</div>
<p>Los roles m√°s comunes est√°n relacionados con ciencia de datos, ingenier√≠a de software y an√°lisis de datos, siendo Data Scientist el m√°s frecuente</p>
</section>
<section id="impacto-del-trabajo-remoto-en-el-salario">
<h3>Impacto del trabajo remoto en el salario<a class="headerlink" href="#impacto-del-trabajo-remoto-en-el-salario" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;remote_ratio&#39;</span><span class="p">)[</span><span class="s1">&#39;salary_in_usd&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>remote_ratio
0      157946.549512
50      80514.675000
100    153569.038625
Name: salary_in_usd, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">remote_salary</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;remote_ratio&#39;</span><span class="p">)[</span><span class="s1">&#39;salary_in_usd&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">remote_salary</span> <span class="o">=</span> <span class="n">remote_salary</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span>
    <span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;On-site&#39;</span><span class="p">,</span>
    <span class="mi">50</span><span class="p">:</span> <span class="s1">&#39;Hybrid&#39;</span><span class="p">,</span>
    <span class="mi">100</span><span class="p">:</span> <span class="s1">&#39;Fully Remote&#39;</span>
<span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">remote_salary</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>remote_ratio
On-site         157946.549512
Hybrid           80514.675000
Fully Remote    153569.038625
Name: salary_in_usd, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">remote_salary</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Remote Ratio&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Salary in USD&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Salaries by Remote Ratio&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1cee12fcb6bd2124b822ada9b4b155277377503d07164ceae1e3ffb8156e3b52.png" src="_images/1cee12fcb6bd2124b822ada9b4b155277377503d07164ceae1e3ffb8156e3b52.png" />
</div>
</div>
<p>los trabajos totalmente presenciales (On-site) y completamente remotos (Fully Remote) tienen salarios promedio m√°s altos, mientras que los puestos h√≠bridos (Hybrid) presentan un salario promedio significativamente menor.</p>
</section>
<section id="influencia-del-tamano-de-la-empresa-en-el-salario">
<h3>Influencia del tama√±o de la empresa en el salario<a class="headerlink" href="#influencia-del-tamano-de-la-empresa-en-el-salario" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;company_size&#39;</span><span class="p">)[</span><span class="s1">&#39;salary_in_usd&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>company_size
L    168145.897184
M    156807.909858
S     87188.400000
Name: salary_in_usd, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;company_size&#39;</span><span class="p">)[</span><span class="s1">&#39;salary_in_usd&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Company Size&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Salary in USD&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Salaries by Company Size&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/8ff46f95979f6a67c671102257f3662a2f6edcad82a1e15ebc4e69748ce371f9.png" src="_images/8ff46f95979f6a67c671102257f3662a2f6edcad82a1e15ebc4e69748ce371f9.png" />
</div>
</div>
<p>Se observa que las empresas grandes (L) y medianas (M) ofrecen salarios promedio significativamente m√°s altos que las peque√±as (S).</p>
</section>
<section id="relacion-entre-el-tamano-de-la-empresa-y-la-contratacion-de-empleados-remotos">
<h3>Relaci√≥n entre el tama√±o de la empresa y la contrataci√≥n de empleados remotos<a class="headerlink" href="#relacion-entre-el-tamano-de-la-empresa-y-la-contratacion-de-empleados-remotos" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;company_size&#39;</span><span class="p">)[</span><span class="s1">&#39;remote_ratio&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>company_size  remote_ratio
L             0                1443
              100                53
              50                 31
M             0               61266
              100             15916
              50                  7
S             100                 5
              0                   3
              50                  2
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">counts</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;company_size&#39;</span><span class="p">)[</span><span class="s1">&#39;remote_ratio&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">counts</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;YlGnBu&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Company Size vs Remote Ratio (Count of Employees)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Company Size&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Remote Ratio&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c3e67bec24f27cf51142ffc1b4373e67dbfc5dc27c18318819311e9ba49f9916.png" src="_images/c3e67bec24f27cf51142ffc1b4373e67dbfc5dc27c18318819311e9ba49f9916.png" />
</div>
</div>
<p>Las empresas m√°s grandes tienden a tener m√°s empleados presenciales, mientras que las peque√±as muestran una proporci√≥n relativamente mayor de trabajadores totalmente remotos.</p>
<section id="matriz-de-correlacion">
<h4>Matriz de correlaci√≥n<a class="headerlink" href="#matriz-de-correlacion" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">numeric_only</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.2f&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Matriz de Correlaci√≥n&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/17b2637ee5c6c2d197fd581ca972e2645ea01309233613fc0e01907f5fbedb4d.png" src="_images/17b2637ee5c6c2d197fd581ca972e2645ea01309233613fc0e01907f5fbedb4d.png" />
</div>
</div>
<p>La matriz de correlaci√≥n muestra que salary y salary_in_usd est√°n moderadamente relacionadas, mientras que remote_ratio y work_year presentan correlaciones bajas con las dem√°s variables, lo que sugiere que no hay evidencia clara de que la modalidad de trabajo remoto o el a√±o del registro influyan en el salario.</p>
</section>
</section>
</section>
<section id="split-train-test">
<h2>4. Split Train / Test<a class="headerlink" href="#split-train-test" title="Link to this heading">#</a></h2>
<p>Separamos el dataset en 3 subconjuntos:</p>
<ol class="arabic simple">
<li><p>Train (80%) ‚Üí usado para entrenar los modelos.</p></li>
<li><p>Test (20%) ‚Üí para evaluar el rendimiento final de los modelos.</p></li>
</ol>
<p>Esto evita sobreajuste y asegura una prueba justa al final.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 80% Train, 20% Test</span>
<span class="n">y_full_price</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log1p</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;salary_in_usd&#39;</span><span class="p">])</span>
<span class="n">X_train_reg</span><span class="p">,</span> <span class="n">X_test_reg</span><span class="p">,</span> <span class="n">y_train_reg</span><span class="p">,</span> <span class="n">y_test_reg</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_full</span><span class="p">,</span> <span class="n">y_full_price</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="preprocesamiento">
<h2>5. Preprocesamiento<a class="headerlink" href="#preprocesamiento" title="Link to this heading">#</a></h2>
<p>Definimos un pipeline de transformaci√≥n:</p>
<ol class="arabic simple">
<li><p>Categ√≥ricas ‚Üí imputar valores faltantes + OneHotEncoding.</p></li>
<li><p>Num√©ricas ‚Üí imputar valores faltantes + escalado.</p></li>
<li><p>3 ColumnTransformer.</p></li>
</ol>
<p>As√≠ garantizamos que todos los modelos reciban datos ya limpios y escalados.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">RobustScaler</span>

<span class="n">categorical_transformer</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="p">[</span>
    <span class="p">(</span><span class="s2">&quot;imputer&quot;</span><span class="p">,</span> <span class="n">SimpleImputer</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s2">&quot;most_frequent&quot;</span><span class="p">)),</span>
    <span class="p">(</span><span class="s2">&quot;encoder&quot;</span><span class="p">,</span> <span class="n">OneHotEncoder</span><span class="p">(</span><span class="n">handle_unknown</span><span class="o">=</span><span class="s2">&quot;ignore&quot;</span><span class="p">))</span>
<span class="p">])</span>

<span class="n">numeric_transformer_standard</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="p">[</span>
    <span class="p">(</span><span class="s2">&quot;imputer&quot;</span><span class="p">,</span> <span class="n">SimpleImputer</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s2">&quot;median&quot;</span><span class="p">)),</span>
    <span class="p">(</span><span class="s2">&quot;scaler&quot;</span><span class="p">,</span> <span class="n">StandardScaler</span><span class="p">())</span>
<span class="p">])</span>

<span class="n">preprocessor_standard</span> <span class="o">=</span> <span class="n">ColumnTransformer</span><span class="p">([</span>
    <span class="p">(</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="n">categorical_transformer</span><span class="p">,</span> <span class="n">categorical_features</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;num&quot;</span><span class="p">,</span> <span class="n">numeric_transformer_standard</span><span class="p">,</span> <span class="n">numeric_features</span><span class="p">)</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="modelos-y-busqueda-de-hiperparametros">
<h2>6. Modelos y b√∫squeda de hiperpar√°metros<a class="headerlink" href="#modelos-y-busqueda-de-hiperparametros" title="Link to this heading">#</a></h2>
<p>Definimos 7 modelos: Ridge, Lasso, KNN, √Årbol, SVR, XGBoost, MLP.</p>
<ol class="arabic simple">
<li><p>Configuramos sus hiperpar√°metros candidatos.</p></li>
<li><p>Usamos GridSearchCV (para b√∫squedas exhaustivas) y RandomizedSearchCV (para b√∫squeda aleatoria en rangos amplios).</p></li>
<li><p>Cada b√∫squeda usa validaci√≥n cruzada (cv=3) dentro del conjunto de entrenamiento.</p></li>
</ol>
<p>Aqu√≠ encontramos la ‚Äúmejor versi√≥n‚Äù de cada modelo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ridge</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;preprocessor&quot;</span><span class="p">,</span> <span class="n">preprocessor_standard</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="n">Ridge</span><span class="p">())])</span>
<span class="n">lasso</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;preprocessor&quot;</span><span class="p">,</span> <span class="n">preprocessor_standard</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="n">Lasso</span><span class="p">())])</span>
<span class="n">knn</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;preprocessor&quot;</span><span class="p">,</span> <span class="n">preprocessor_standard</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="n">KNeighborsRegressor</span><span class="p">())])</span>
<span class="n">dtree</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;preprocessor&quot;</span><span class="p">,</span> <span class="n">preprocessor_standard</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="n">DecisionTreeRegressor</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">))])</span>
<span class="n">svr</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;preprocessor&quot;</span><span class="p">,</span> <span class="n">preprocessor_standard</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="n">SVR</span><span class="p">())])</span>
<span class="n">xgb</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;preprocessor&quot;</span><span class="p">,</span> <span class="n">preprocessor_standard</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="n">XGBRegressor</span><span class="p">(</span><span class="n">objective</span><span class="o">=</span><span class="s2">&quot;reg:squarederror&quot;</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">))])</span>
<span class="n">mlp</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;preprocessor&quot;</span><span class="p">,</span> <span class="n">preprocessor_standard</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="n">MLPRegressor</span><span class="p">(</span><span class="n">max_iter</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">early_stopping</span><span class="o">=</span><span class="kc">True</span><span class="p">))])</span>

<span class="n">ridge_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;model__alpha&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">]}</span>
<span class="n">lasso_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;model__alpha&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">]}</span>
<span class="n">knn_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;model__n_neighbors&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">]}</span>
<span class="n">dtree_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;model__max_depth&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="s2">&quot;model__min_samples_leaf&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span> <span class="s2">&quot;model__max_features&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;sqrt&quot;</span><span class="p">,</span> <span class="s2">&quot;log2&quot;</span><span class="p">]}</span>
<span class="n">svr_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;model__C&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="s2">&quot;model__kernel&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;rbf&quot;</span><span class="p">,</span> <span class="s2">&quot;linear&quot;</span><span class="p">]}</span>
<span class="n">xgb_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;model__n_estimators&quot;</span><span class="p">:</span> <span class="n">randint</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">500</span><span class="p">),</span> <span class="s2">&quot;model__max_depth&quot;</span><span class="p">:</span> <span class="n">randint</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="s2">&quot;model__learning_rate&quot;</span><span class="p">:</span> <span class="n">uniform</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)}</span>
<span class="n">mlp_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;model__hidden_layer_sizes&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">50</span><span class="p">,),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">)],</span> <span class="s2">&quot;model__alpha&quot;</span><span class="p">:</span> <span class="n">uniform</span><span class="p">(</span><span class="mf">0.0001</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span><span class="s2">&quot;model__activation&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;relu&quot;</span><span class="p">,</span> <span class="s2">&quot;tanh&quot;</span><span class="p">]}</span>

<span class="n">ridge_search</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">ridge</span><span class="p">,</span> <span class="n">ridge_params</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="s2">&quot;neg_mean_squared_error&quot;</span><span class="p">)</span>
<span class="n">lasso_search</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">lasso</span><span class="p">,</span> <span class="n">lasso_params</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="s2">&quot;neg_mean_squared_error&quot;</span><span class="p">)</span>
<span class="n">knn_search</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">knn</span><span class="p">,</span> <span class="n">knn_params</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="s2">&quot;neg_mean_squared_error&quot;</span><span class="p">)</span>
<span class="n">dtree_search</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">dtree</span><span class="p">,</span> <span class="n">dtree_params</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="s2">&quot;neg_mean_squared_error&quot;</span><span class="p">)</span>
<span class="n">svr_search</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">svr</span><span class="p">,</span> <span class="n">svr_params</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="s2">&quot;neg_mean_squared_error&quot;</span><span class="p">)</span>
<span class="n">xgb_search</span> <span class="o">=</span> <span class="n">RandomizedSearchCV</span><span class="p">(</span><span class="n">xgb</span><span class="p">,</span> <span class="n">xgb_params</span><span class="p">,</span> <span class="n">n_iter</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="s2">&quot;neg_mean_squared_error&quot;</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">mlp_search</span> <span class="o">=</span> <span class="n">RandomizedSearchCV</span><span class="p">(</span><span class="n">mlp</span><span class="p">,</span> <span class="n">mlp_params</span><span class="p">,</span> <span class="n">n_iter</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="s2">&quot;neg_mean_squared_error&quot;</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>

<span class="k">for</span> <span class="n">search</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ridge_search</span><span class="p">,</span> <span class="n">lasso_search</span><span class="p">,</span> <span class="n">knn_search</span><span class="p">,</span> <span class="n">dtree_search</span><span class="p">,</span> <span class="n">svr_search</span><span class="p">,</span> <span class="n">xgb_search</span><span class="p">,</span> <span class="n">mlp_search</span><span class="p">]:</span>
    <span class="n">search</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_reg</span><span class="p">,</span> <span class="n">y_train_reg</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fitting 3 folds for each of 30 candidates, totalling 90 fits
</pre></div>
</div>
</div>
</div>
</section>
<section id="funciones-auxiliares">
<h2>7. Funciones auxiliares<a class="headerlink" href="#funciones-auxiliares" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Evaluate_model ‚Üí calcula m√©tricas (MAE, MSE, RMSE, MAPE) para Train/Val/Test.</p></li>
</ol>
<p>Son funciones de apoyo para evitar repetir c√≥digo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">regression_metrics</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">):</span>
    <span class="n">y_true_exp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">expm1</span><span class="p">(</span><span class="n">y_true</span><span class="p">)</span>
    <span class="n">y_pred_exp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">expm1</span><span class="p">(</span><span class="n">y_pred</span><span class="p">)</span>
    <span class="n">mae</span> <span class="o">=</span> <span class="n">mean_absolute_error</span><span class="p">(</span><span class="n">y_true_exp</span><span class="p">,</span> <span class="n">y_pred_exp</span><span class="p">)</span>
    <span class="n">mse</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_true_exp</span><span class="p">,</span> <span class="n">y_pred_exp</span><span class="p">)</span>
    <span class="n">rmse</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mse</span><span class="p">)</span>
    <span class="n">mape</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">((</span><span class="n">y_true_exp</span> <span class="o">-</span> <span class="n">y_pred_exp</span><span class="p">)</span> <span class="o">/</span> <span class="n">y_true_exp</span><span class="p">))</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="k">return</span> <span class="n">mae</span><span class="p">,</span> <span class="n">mse</span><span class="p">,</span> <span class="n">rmse</span><span class="p">,</span> <span class="n">mape</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="loop-para-evaluar-modelos-graficas-bds-resultados-en-log">
<h2>8. Loop para evaluar modelos + gr√°ficas + BDS - resultados en Log<a class="headerlink" href="#loop-para-evaluar-modelos-graficas-bds-resultados-en-log" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Iteramos por cada modelo entrenado.</p></li>
<li><p>Guardamos sus m√©tricas en Train/Test.</p></li>
<li><p>Aplicamos el BDS Test en el conjunto de Test (para independencia de residuos).</p></li>
<li><p>Generamos gr√°ficos comparativos (Real vs Predicho) en cada conjunto.</p></li>
</ol>
<p>Aqu√≠ ocurre la evaluaci√≥n central.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">mean_squared_error</span><span class="p">,</span> <span class="n">mean_absolute_error</span><span class="p">,</span> <span class="n">r2_score</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">statsmodels.tsa.stattools</span><span class="w"> </span><span class="kn">import</span> <span class="n">bds</span>

<span class="c1"># 1. Funciones auxiliares</span>
<span class="k">def</span><span class="w"> </span><span class="nf">evaluate_model</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calcula m√©tricas de desempe√±o para un modelo de regresi√≥n.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Predicciones</span>
    <span class="n">y_train_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
    <span class="n">y_test_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
    
    <span class="c1"># M√©tricas en Train</span>
    <span class="n">train_rmse</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_train</span><span class="p">,</span> <span class="n">y_train_pred</span><span class="p">))</span>
    <span class="n">train_mae</span> <span class="o">=</span> <span class="n">mean_absolute_error</span><span class="p">(</span><span class="n">y_train</span><span class="p">,</span> <span class="n">y_train_pred</span><span class="p">)</span>
    
    <span class="c1"># M√©tricas en Test</span>
    <span class="n">test_rmse</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_test_pred</span><span class="p">))</span>
    <span class="n">test_mae</span> <span class="o">=</span> <span class="n">mean_absolute_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_test_pred</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;Modelo&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
        <span class="s2">&quot;Train_RMSE&quot;</span><span class="p">:</span> <span class="n">train_rmse</span><span class="p">,</span>
        <span class="s2">&quot;Train_MAE&quot;</span><span class="p">:</span> <span class="n">train_mae</span><span class="p">,</span>
        <span class="s2">&quot;Test_RMSE&quot;</span><span class="p">:</span> <span class="n">test_rmse</span><span class="p">,</span>
        <span class="s2">&quot;Test_MAE&quot;</span><span class="p">:</span> <span class="n">test_mae</span><span class="p">,</span>
    <span class="p">}</span>

<span class="k">def</span><span class="w"> </span><span class="nf">bds_test</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">max_dim</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">distance</span><span class="o">=</span><span class="mf">1.5</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Aplica el test BDS (Brock-Dechert-Scheinkman) a los residuos del modelo.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">residuals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y_true</span><span class="p">)</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y_pred</span><span class="p">)</span>
    <span class="n">residuals</span> <span class="o">=</span> <span class="n">residuals</span><span class="p">[</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">residuals</span><span class="p">)]</span>  <span class="c1"># elimina NaNs</span>
    
    <span class="n">stat</span><span class="p">,</span> <span class="n">pvalue</span> <span class="o">=</span> <span class="n">bds</span><span class="p">(</span><span class="n">residuals</span><span class="p">,</span> <span class="n">max_dim</span><span class="o">=</span><span class="n">max_dim</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="n">epsilon</span><span class="p">,</span> <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">stat</span><span class="p">,</span> <span class="n">pvalue</span>

<span class="k">def</span><span class="w"> </span><span class="nf">plot_predictions</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">title</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gr√°fico de comparaci√≥n entre valores reales y predichos.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">y_true</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">y_true</span><span class="o">.</span><span class="n">max</span><span class="p">()],</span>
             <span class="p">[</span><span class="n">y_true</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">y_true</span><span class="o">.</span><span class="n">max</span><span class="p">()],</span>
             <span class="s1">&#39;r--&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Valores reales&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Predicciones&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 2. Diccionarios para resultados</span>
<span class="n">results_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">bds_results</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># 3. Loop sobre modelos</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">search</span> <span class="ow">in</span> <span class="p">[</span>
    <span class="p">(</span><span class="s2">&quot;Ridge&quot;</span><span class="p">,</span> <span class="n">ridge_search</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;Lasso&quot;</span><span class="p">,</span> <span class="n">lasso_search</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;KNN&quot;</span><span class="p">,</span> <span class="n">knn_search</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;DecisionTree&quot;</span><span class="p">,</span> <span class="n">dtree_search</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;SVR&quot;</span><span class="p">,</span> <span class="n">svr_search</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;XGB&quot;</span><span class="p">,</span> <span class="n">xgb_search</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;MLP&quot;</span><span class="p">,</span> <span class="n">mlp_search</span><span class="p">)</span>
<span class="p">]:</span>
    <span class="n">best_model</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">best_estimator_</span>
    
    <span class="c1"># M√©tricas del modelo</span>
    <span class="n">metrics</span> <span class="o">=</span> <span class="n">evaluate_model</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">best_model</span><span class="p">,</span> <span class="n">X_train_reg</span><span class="p">,</span> <span class="n">X_test_reg</span><span class="p">,</span>
                              <span class="n">y_train_reg</span><span class="p">,</span> <span class="n">y_test_reg</span><span class="p">)</span>
    <span class="n">results_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">metrics</span><span class="p">)</span>
    
    <span class="c1"># Test BDS en TEST</span>
    <span class="n">y_test_pred</span> <span class="o">=</span> <span class="n">best_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_reg</span><span class="p">)</span>
    <span class="n">stat</span><span class="p">,</span> <span class="n">pvalue</span> <span class="o">=</span> <span class="n">bds_test</span><span class="p">(</span><span class="n">y_test_reg</span><span class="p">,</span> <span class="n">y_test_pred</span><span class="p">)</span>
    <span class="n">bds_results</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">stat</span><span class="p">,</span> <span class="n">pvalue</span><span class="p">)</span>
    
    <span class="c1"># Gr√°ficos de predicci√≥n</span>
    <span class="n">plot_predictions</span><span class="p">(</span><span class="n">y_train_reg</span><span class="p">,</span> <span class="n">best_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train_reg</span><span class="p">),</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> ‚Äì Train&quot;</span><span class="p">)</span>
    <span class="n">plot_predictions</span><span class="p">(</span><span class="n">y_test_reg</span><span class="p">,</span> <span class="n">y_test_pred</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> ‚Äì Test&quot;</span><span class="p">)</span>

<span class="c1"># 4. DataFrames con resultados</span>
<span class="c1"># M√©tricas</span>
<span class="n">metrics_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results_list</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;Modelo&quot;</span><span class="p">)</span>

<span class="c1"># BDS Test</span>
<span class="n">bds_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bds_results</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;BDS_Stat&quot;</span><span class="p">,</span> <span class="s2">&quot;p_value&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
<span class="n">bds_df</span><span class="p">[</span><span class="s2">&quot;Interpretaci√≥n&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
    <span class="n">bds_df</span><span class="p">[</span><span class="s2">&quot;p_value&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.05</span><span class="p">,</span>
    <span class="s2">&quot;Residuos independientes (i.i.d.)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Dependencia no lineal&quot;</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Resultados de M√©tricas:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">metrics_df</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Resultados del Test BDS:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bds_df</span><span class="p">)</span>

<span class="c1"># 5. Gr√°ficos comparativos</span>

<span class="c1"># RMSE</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">metrics_df</span><span class="p">[</span><span class="s2">&quot;Test_RMSE&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;skyblue&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Comparaci√≥n de Test RMSE por Modelo&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;RMSE&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


<span class="c1"># BDS p-values</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">bds_df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">bds_df</span><span class="p">[</span><span class="s2">&quot;p_value&quot;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Œ± = 0.05&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;p-values del Test BDS por Modelo&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;p-value&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c0e348121c775bd3ccd4dcb374f82537d5857071cc69566473ead992e53c1ab4.png" src="_images/c0e348121c775bd3ccd4dcb374f82537d5857071cc69566473ead992e53c1ab4.png" />
<img alt="_images/d71ba8bbb669a230b57cbb002ec61322758cb6faa0d44156c497fef3ed376cc3.png" src="_images/d71ba8bbb669a230b57cbb002ec61322758cb6faa0d44156c497fef3ed376cc3.png" />
<img alt="_images/e9d88d4ce148a9853a2e5941ce399cf924405281c891194dfcb2d564a37a4d5a.png" src="_images/e9d88d4ce148a9853a2e5941ce399cf924405281c891194dfcb2d564a37a4d5a.png" />
<img alt="_images/635241102e4ef7338c1e27de0f4f566ed689769fcce1e23eef307fb04c6545fe.png" src="_images/635241102e4ef7338c1e27de0f4f566ed689769fcce1e23eef307fb04c6545fe.png" />
<img alt="_images/13d094a60c8d8cd351441bc32d96889aac593d811a3dc0a8dcafe2d7d0c8d28b.png" src="_images/13d094a60c8d8cd351441bc32d96889aac593d811a3dc0a8dcafe2d7d0c8d28b.png" />
<img alt="_images/6132ef76ede4da86f02830e4a3193089e33547b010253307db6c80d0a76dc7e9.png" src="_images/6132ef76ede4da86f02830e4a3193089e33547b010253307db6c80d0a76dc7e9.png" />
<img alt="_images/96587e5d5ae6e3f3142978b28c4b5ab27916adda8504c4a4b996081293081d3c.png" src="_images/96587e5d5ae6e3f3142978b28c4b5ab27916adda8504c4a4b996081293081d3c.png" />
<img alt="_images/d0e212ae336049499a3b4fab3550145d2dbecfd3c998c2178a4d0826815f9c45.png" src="_images/d0e212ae336049499a3b4fab3550145d2dbecfd3c998c2178a4d0826815f9c45.png" />
<img alt="_images/1ceccfa1dfa1f95f533c5e164cff488c2eae1880565d73308dd56682a4e10172.png" src="_images/1ceccfa1dfa1f95f533c5e164cff488c2eae1880565d73308dd56682a4e10172.png" />
<img alt="_images/e9d71fe04c543980953eb3b178ceb294d639a18d2cf2540a83607fc35687f95b.png" src="_images/e9d71fe04c543980953eb3b178ceb294d639a18d2cf2540a83607fc35687f95b.png" />
<img alt="_images/dd9aa4a215fabecca06c3092eadd93cda140a2d2fe80c654852c2073797f379e.png" src="_images/dd9aa4a215fabecca06c3092eadd93cda140a2d2fe80c654852c2073797f379e.png" />
<img alt="_images/bf218e036980008cc877226aae7adb7a6da29705816dad42e060553eab603378.png" src="_images/bf218e036980008cc877226aae7adb7a6da29705816dad42e060553eab603378.png" />
<img alt="_images/0a14bd810e2ce67e7776365fa5f649fc890de8ffb653f4564a0f1147f8a06c07.png" src="_images/0a14bd810e2ce67e7776365fa5f649fc890de8ffb653f4564a0f1147f8a06c07.png" />
<img alt="_images/7219b82c1ea7c557854eb718ddfd97646fbeb2fab494d0183129326155e89233.png" src="_images/7219b82c1ea7c557854eb718ddfd97646fbeb2fab494d0183129326155e89233.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Resultados de M√©tricas:
              Train_RMSE  Train_MAE  Test_RMSE  Test_MAE
Modelo                                                  
Ridge           0.141021   0.092551   0.142868  0.093703
Lasso           0.166155   0.107303   0.168214  0.108237
KNN             0.048161   0.013596   0.073948  0.022855
DecisionTree    0.311508   0.234666   0.311336  0.235288
SVR             0.063990   0.056993   0.065309  0.057945
XGB             0.007614   0.002751   0.010102  0.002975
MLP             0.007527   0.002959   0.007668  0.002975

Resultados del Test BDS:
                          BDS_Stat              p_value  \
Ridge         -0.10115855494665842   0.9194245962556316   
Lasso          0.23104875586978652   0.8172769248763921   
KNN              1.503958333708344   0.1325920954596185   
DecisionTree   0.25660947286034963   0.7974802615417469   
SVR            -1.1604170708863144   0.2458790397788978   
XGB             1.2679485187905826  0.20481633576720304   
MLP             1.8811272542201425  0.05995461038454407   

                                Interpretaci√≥n  
Ridge         Residuos independientes (i.i.d.)  
Lasso         Residuos independientes (i.i.d.)  
KNN           Residuos independientes (i.i.d.)  
DecisionTree  Residuos independientes (i.i.d.)  
SVR           Residuos independientes (i.i.d.)  
XGB           Residuos independientes (i.i.d.)  
MLP           Residuos independientes (i.i.d.)  
</pre></div>
</div>
<img alt="_images/8efd194172c2590b4f14bbee998428d6dd1997110b2a0d374483b82d6302527e.png" src="_images/8efd194172c2590b4f14bbee998428d6dd1997110b2a0d374483b82d6302527e.png" />
<img alt="_images/217f9bc66fbcc7da12e7cd363e44bf4c323dce59876a5e72bf7c4ede294374c7.png" src="_images/217f9bc66fbcc7da12e7cd363e44bf4c323dce59876a5e72bf7c4ede294374c7.png" />
</div>
</div>
</section>
<section id="dataframe-de-resultados-y-grafico-comparativo-salario-en-usd">
<h2>9. DataFrame de resultados y gr√°fico comparativo - Salario en USD<a class="headerlink" href="#dataframe-de-resultados-y-grafico-comparativo-salario-en-usd" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Construimos un DataFrame con todas las m√©tricas por modelo y dataset.</p></li>
<li><p>Mostramos resultados del BDS Test.</p></li>
</ol>
<p>Con esto tenemos un resumen visual y tabular para comparar rendimientos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">expm1</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">statsmodels.tsa.stattools</span><span class="w"> </span><span class="kn">import</span> <span class="n">bds</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">mean_squared_error</span><span class="p">,</span> <span class="n">mean_absolute_error</span>

<span class="c1"># ----------------------------</span>
<span class="c1"># Funci√≥n de evaluaci√≥n</span>
<span class="c1"># ----------------------------</span>
<span class="k">def</span><span class="w"> </span><span class="nf">evaluate_model</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">log_target</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calcula m√©tricas de desempe√±o para un modelo de regresi√≥n.</span>
<span class="sd">    Si log_target=True, invierte la transformaci√≥n logar√≠tmica con expm1.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Predicciones</span>
    <span class="n">y_train_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
    <span class="n">y_test_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">log_target</span><span class="p">:</span>
        <span class="n">y_train_pred</span> <span class="o">=</span> <span class="n">expm1</span><span class="p">(</span><span class="n">y_train_pred</span><span class="p">)</span>
        <span class="n">y_test_pred</span> <span class="o">=</span> <span class="n">expm1</span><span class="p">(</span><span class="n">y_test_pred</span><span class="p">)</span>
        <span class="n">y_train</span> <span class="o">=</span> <span class="n">expm1</span><span class="p">(</span><span class="n">y_train</span><span class="p">)</span>
        <span class="n">y_test</span> <span class="o">=</span> <span class="n">expm1</span><span class="p">(</span><span class="n">y_test</span><span class="p">)</span>

    <span class="c1"># M√©tricas en Train</span>
    <span class="n">train_rmse</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_train</span><span class="p">,</span> <span class="n">y_train_pred</span><span class="p">))</span>
    <span class="n">train_mae</span> <span class="o">=</span> <span class="n">mean_absolute_error</span><span class="p">(</span><span class="n">y_train</span><span class="p">,</span> <span class="n">y_train_pred</span><span class="p">)</span>
    <span class="n">train_mse</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_train</span><span class="p">,</span> <span class="n">y_train_pred</span><span class="p">)</span>
    <span class="n">train_mape</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">((</span><span class="n">y_train</span> <span class="o">-</span> <span class="n">y_train_pred</span><span class="p">)</span> <span class="o">/</span> <span class="n">y_train</span><span class="p">))</span> <span class="o">*</span> <span class="mi">100</span>

    <span class="c1"># M√©tricas en Test</span>
    <span class="n">test_rmse</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_test_pred</span><span class="p">))</span>
    <span class="n">test_mae</span> <span class="o">=</span> <span class="n">mean_absolute_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_test_pred</span><span class="p">)</span>
    <span class="n">test_mse</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_test_pred</span><span class="p">)</span>
    <span class="n">test_mape</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">((</span><span class="n">y_test</span> <span class="o">-</span> <span class="n">y_test_pred</span><span class="p">)</span> <span class="o">/</span> <span class="n">y_test</span><span class="p">))</span> <span class="o">*</span> <span class="mi">100</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;Modelo&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
        <span class="s2">&quot;Train_RMSE&quot;</span><span class="p">:</span> <span class="n">train_rmse</span><span class="p">,</span>
        <span class="s2">&quot;Train_MAE&quot;</span><span class="p">:</span> <span class="n">train_mae</span><span class="p">,</span>
        <span class="s2">&quot;Train_MSE&quot;</span><span class="p">:</span> <span class="n">train_mse</span><span class="p">,</span>
        <span class="s2">&quot;Train_MAPE&quot;</span><span class="p">:</span> <span class="n">train_mape</span><span class="p">,</span>
        <span class="s2">&quot;Test_RMSE&quot;</span><span class="p">:</span> <span class="n">test_rmse</span><span class="p">,</span>
        <span class="s2">&quot;Test_MAE&quot;</span><span class="p">:</span> <span class="n">test_mae</span><span class="p">,</span>
        <span class="s2">&quot;Test_MSE&quot;</span><span class="p">:</span> <span class="n">test_mse</span><span class="p">,</span>
        <span class="s2">&quot;Test_MAPE&quot;</span><span class="p">:</span> <span class="n">test_mape</span>
    <span class="p">}</span>

<span class="c1"># Test BDS</span>
<span class="k">def</span><span class="w"> </span><span class="nf">bds_test</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">log_target</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">max_dim</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">distance</span><span class="o">=</span><span class="mf">1.5</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Aplica el test BDS a los residuos del modelo.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">log_target</span><span class="p">:</span>
        <span class="n">y_true</span> <span class="o">=</span> <span class="n">expm1</span><span class="p">(</span><span class="n">y_true</span><span class="p">)</span>
        <span class="n">y_pred</span> <span class="o">=</span> <span class="n">expm1</span><span class="p">(</span><span class="n">y_pred</span><span class="p">)</span>

    <span class="n">residuals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y_true</span><span class="p">)</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y_pred</span><span class="p">)</span>
    <span class="n">residuals</span> <span class="o">=</span> <span class="n">residuals</span><span class="p">[</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">residuals</span><span class="p">)]</span>
    
    <span class="n">stat</span><span class="p">,</span> <span class="n">pvalue</span> <span class="o">=</span> <span class="n">bds</span><span class="p">(</span><span class="n">residuals</span><span class="p">,</span> <span class="n">max_dim</span><span class="o">=</span><span class="n">max_dim</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="n">epsilon</span><span class="p">,</span> <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">stat</span><span class="p">,</span> <span class="n">pvalue</span>

<span class="n">results_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">bds_results</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">search</span> <span class="ow">in</span> <span class="p">[</span>
    <span class="p">(</span><span class="s2">&quot;Ridge&quot;</span><span class="p">,</span> <span class="n">ridge_search</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;Lasso&quot;</span><span class="p">,</span> <span class="n">lasso_search</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;KNN&quot;</span><span class="p">,</span> <span class="n">knn_search</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;DecisionTree&quot;</span><span class="p">,</span> <span class="n">dtree_search</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;SVR&quot;</span><span class="p">,</span> <span class="n">svr_search</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;XGB&quot;</span><span class="p">,</span> <span class="n">xgb_search</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;MLP&quot;</span><span class="p">,</span> <span class="n">mlp_search</span><span class="p">)</span>
<span class="p">]:</span>
    <span class="n">best_model</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">best_estimator_</span>

    <span class="c1"># Evaluaci√≥n</span>
    <span class="n">metrics</span> <span class="o">=</span> <span class="n">evaluate_model</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">best_model</span><span class="p">,</span> <span class="n">X_train_reg</span><span class="p">,</span> <span class="n">X_test_reg</span><span class="p">,</span> <span class="n">y_train_reg</span><span class="p">,</span> <span class="n">y_test_reg</span><span class="p">)</span>
    <span class="n">results_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">metrics</span><span class="p">)</span>

    <span class="c1"># BDS test</span>
    <span class="n">y_test_pred</span> <span class="o">=</span> <span class="n">best_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_reg</span><span class="p">)</span>
    <span class="n">stat</span><span class="p">,</span> <span class="n">pvalue</span> <span class="o">=</span> <span class="n">bds_test</span><span class="p">(</span><span class="n">y_test_reg</span><span class="p">,</span> <span class="n">y_test_pred</span><span class="p">)</span>
    <span class="n">bds_results</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">stat</span><span class="p">,</span> <span class="n">pvalue</span><span class="p">)</span>


<span class="c1"># DataFrame de resultados</span>

<span class="n">results_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results_list</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;Modelo&quot;</span><span class="p">)</span>

<span class="c1"># Estilo de tabla</span>
<span class="n">styled_results</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">results_df</span><span class="o">.</span><span class="n">style</span>
    <span class="o">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Reds&quot;</span><span class="p">,</span> <span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Train_RMSE&quot;</span><span class="p">,</span> <span class="s2">&quot;Train_MAE&quot;</span><span class="p">,</span> <span class="s2">&quot;Train_MSE&quot;</span><span class="p">,</span> <span class="s2">&quot;Train_MAPE&quot;</span><span class="p">,</span>
                                              <span class="s2">&quot;Test_RMSE&quot;</span><span class="p">,</span> <span class="s2">&quot;Test_MAE&quot;</span><span class="p">,</span> <span class="s2">&quot;Test_MSE&quot;</span><span class="p">,</span> <span class="s2">&quot;Test_MAPE&quot;</span><span class="p">])</span>
    <span class="o">.</span><span class="n">format</span><span class="p">({</span>
        <span class="s2">&quot;Train_RMSE&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:,.0f}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Train_MAE&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:,.0f}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Train_MSE&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:,.0f}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Train_MAPE&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.2f}</span><span class="s2">%&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Test_RMSE&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:,.0f}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Test_MAE&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:,.0f}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Test_MSE&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:,.0f}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Test_MAPE&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.2f}</span><span class="s2">%&quot;</span>
    <span class="p">})</span>
    <span class="o">.</span><span class="n">set_table_styles</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="p">{</span><span class="s2">&quot;selector&quot;</span><span class="p">:</span> <span class="s2">&quot;th&quot;</span><span class="p">,</span> <span class="s2">&quot;props&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="s2">&quot;background-color&quot;</span><span class="p">,</span> <span class="s2">&quot;#b22222&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">,</span> <span class="s2">&quot;white&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;font-weight&quot;</span><span class="p">,</span> <span class="s2">&quot;bold&quot;</span><span class="p">)]},</span>
            <span class="p">{</span><span class="s2">&quot;selector&quot;</span><span class="p">:</span> <span class="s2">&quot;caption&quot;</span><span class="p">,</span> <span class="s2">&quot;props&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="s2">&quot;caption-side&quot;</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span> <span class="s2">&quot;16px&quot;</span><span class="p">)]}</span>
        <span class="p">]</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s2">&quot;Comparaci√≥n de Modelos ‚Äì Train vs Test (MSE, RMSE, MAE, MAPE en escala original USD)&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="n">styled_results</span><span class="p">)</span>

<span class="c1"># Resultados del Test BDS</span>
<span class="n">bds_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bds_results</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;BDS_Stat&quot;</span><span class="p">,</span> <span class="s2">&quot;p_value&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
<span class="n">bds_df</span><span class="p">[</span><span class="s2">&quot;Interpretaci√≥n&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
    <span class="n">bds_df</span><span class="p">[</span><span class="s2">&quot;p_value&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.05</span><span class="p">,</span>
    <span class="s2">&quot;Residuos independientes (i.i.d.)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Dependencia no lineal&quot;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Resultados del Test BDS:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bds_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style type="text/css">
#T_19ab2 th {
  background-color: #b22222;
  color: white;
  font-weight: bold;
}
#T_19ab2 caption {
  caption-side: top;
  font-size: 16px;
}
#T_19ab2_row0_col0 {
  background-color: #c1161b;
  color: #f1f1f1;
}
#T_19ab2_row0_col1, #T_19ab2_row0_col5, #T_19ab2_row1_col3, #T_19ab2_row1_col7, #T_19ab2_row3_col4 {
  background-color: #fb7252;
  color: #f1f1f1;
}
#T_19ab2_row0_col2 {
  background-color: #f03f2e;
  color: #f1f1f1;
}
#T_19ab2_row0_col3 {
  background-color: #fc8e6e;
  color: #000000;
}
#T_19ab2_row0_col4 {
  background-color: #bb141a;
  color: #f1f1f1;
}
#T_19ab2_row0_col6 {
  background-color: #e93529;
  color: #f1f1f1;
}
#T_19ab2_row0_col7 {
  background-color: #fc8d6d;
  color: #f1f1f1;
}
#T_19ab2_row1_col0, #T_19ab2_row1_col2, #T_19ab2_row1_col4, #T_19ab2_row1_col6, #T_19ab2_row3_col1, #T_19ab2_row3_col3, #T_19ab2_row3_col5, #T_19ab2_row3_col7 {
  background-color: #67000d;
  color: #f1f1f1;
}
#T_19ab2_row1_col1 {
  background-color: #f44f39;
  color: #f1f1f1;
}
#T_19ab2_row1_col5 {
  background-color: #f5523a;
  color: #f1f1f1;
}
#T_19ab2_row2_col0 {
  background-color: #ffeee7;
  color: #000000;
}
#T_19ab2_row2_col1 {
  background-color: #ffefe8;
  color: #000000;
}
#T_19ab2_row2_col2, #T_19ab2_row5_col1, #T_19ab2_row5_col2, #T_19ab2_row5_col3, #T_19ab2_row5_col5, #T_19ab2_row5_col6, #T_19ab2_row5_col7, #T_19ab2_row6_col0, #T_19ab2_row6_col1, #T_19ab2_row6_col2, #T_19ab2_row6_col3, #T_19ab2_row6_col4, #T_19ab2_row6_col5, #T_19ab2_row6_col6, #T_19ab2_row6_col7 {
  background-color: #fff5f0;
  color: #000000;
}
#T_19ab2_row2_col3 {
  background-color: #ffeee6;
  color: #000000;
}
#T_19ab2_row2_col4 {
  background-color: #fee9df;
  color: #000000;
}
#T_19ab2_row2_col5 {
  background-color: #feeae0;
  color: #000000;
}
#T_19ab2_row2_col6 {
  background-color: #fff4ef;
  color: #000000;
}
#T_19ab2_row2_col7 {
  background-color: #fee7dc;
  color: #000000;
}
#T_19ab2_row3_col0 {
  background-color: #fb7555;
  color: #f1f1f1;
}
#T_19ab2_row3_col2 {
  background-color: #fcc4ad;
  color: #000000;
}
#T_19ab2_row3_col6 {
  background-color: #fcc2aa;
  color: #000000;
}
#T_19ab2_row4_col0 {
  background-color: #fee7db;
  color: #000000;
}
#T_19ab2_row4_col1 {
  background-color: #fcbda4;
  color: #000000;
}
#T_19ab2_row4_col2, #T_19ab2_row4_col6 {
  background-color: #fff4ee;
  color: #000000;
}
#T_19ab2_row4_col3, #T_19ab2_row4_col7 {
  background-color: #fcc3ab;
  color: #000000;
}
#T_19ab2_row4_col4 {
  background-color: #fee6da;
  color: #000000;
}
#T_19ab2_row4_col5 {
  background-color: #fcbca2;
  color: #000000;
}
#T_19ab2_row5_col0 {
  background-color: #fff3ed;
  color: #000000;
}
#T_19ab2_row5_col4 {
  background-color: #fff2ec;
  color: #000000;
}
</style>
<table id="T_19ab2">
  <caption>Comparaci√≥n de Modelos ‚Äì Train vs Test (MSE, RMSE, MAE, MAPE en escala original USD)</caption>
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_19ab2_level0_col0" class="col_heading level0 col0" >Train_RMSE</th>
      <th id="T_19ab2_level0_col1" class="col_heading level0 col1" >Train_MAE</th>
      <th id="T_19ab2_level0_col2" class="col_heading level0 col2" >Train_MSE</th>
      <th id="T_19ab2_level0_col3" class="col_heading level0 col3" >Train_MAPE</th>
      <th id="T_19ab2_level0_col4" class="col_heading level0 col4" >Test_RMSE</th>
      <th id="T_19ab2_level0_col5" class="col_heading level0 col5" >Test_MAE</th>
      <th id="T_19ab2_level0_col6" class="col_heading level0 col6" >Test_MSE</th>
      <th id="T_19ab2_level0_col7" class="col_heading level0 col7" >Test_MAPE</th>
    </tr>
    <tr>
      <th class="index_name level0" >Modelo</th>
      <th class="blank col0" >&nbsp;</th>
      <th class="blank col1" >&nbsp;</th>
      <th class="blank col2" >&nbsp;</th>
      <th class="blank col3" >&nbsp;</th>
      <th class="blank col4" >&nbsp;</th>
      <th class="blank col5" >&nbsp;</th>
      <th class="blank col6" >&nbsp;</th>
      <th class="blank col7" >&nbsp;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_19ab2_level0_row0" class="row_heading level0 row0" >Ridge</th>
      <td id="T_19ab2_row0_col0" class="data row0 col0" >89,141</td>
      <td id="T_19ab2_row0_col1" class="data row0 col1" >17,063</td>
      <td id="T_19ab2_row0_col2" class="data row0 col2" >7,946,063,067</td>
      <td id="T_19ab2_row0_col3" class="data row0 col3" >9.91%</td>
      <td id="T_19ab2_row0_col4" class="data row0 col4" >89,435</td>
      <td id="T_19ab2_row0_col5" class="data row0 col5" >16,958</td>
      <td id="T_19ab2_row0_col6" class="data row0 col6" >7,998,632,355</td>
      <td id="T_19ab2_row0_col7" class="data row0 col7" >10.04%</td>
    </tr>
    <tr>
      <th id="T_19ab2_level0_row1" class="row_heading level0 row1" >Lasso</th>
      <td id="T_19ab2_row1_col0" class="data row1 col0" >113,582</td>
      <td id="T_19ab2_row1_col1" class="data row1 col1" >20,375</td>
      <td id="T_19ab2_row1_col2" class="data row1 col2" >12,900,967,121</td>
      <td id="T_19ab2_row1_col3" class="data row1 col3" >11.98%</td>
      <td id="T_19ab2_row1_col4" class="data row1 col4" >111,077</td>
      <td id="T_19ab2_row1_col5" class="data row1 col5" >20,075</td>
      <td id="T_19ab2_row1_col6" class="data row1 col6" >12,338,054,113</td>
      <td id="T_19ab2_row1_col7" class="data row1 col7" >12.12%</td>
    </tr>
    <tr>
      <th id="T_19ab2_level0_row2" class="row_heading level0 row2" >KNN</th>
      <td id="T_19ab2_row2_col0" class="data row2 col0" >5,576</td>
      <td id="T_19ab2_row2_col1" class="data row2 col1" >1,612</td>
      <td id="T_19ab2_row2_col2" class="data row2 col2" >31,086,354</td>
      <td id="T_19ab2_row2_col3" class="data row2 col3" >1.38%</td>
      <td id="T_19ab2_row2_col4" class="data row2 col4" >8,698</td>
      <td id="T_19ab2_row2_col5" class="data row2 col5" >2,720</td>
      <td id="T_19ab2_row2_col6" class="data row2 col6" >75,650,697</td>
      <td id="T_19ab2_row2_col7" class="data row2 col7" >2.35%</td>
    </tr>
    <tr>
      <th id="T_19ab2_level0_row3" class="row_heading level0 row3" >DecisionTree</th>
      <td id="T_19ab2_row3_col0" class="data row3 col0" >53,540</td>
      <td id="T_19ab2_row3_col1" class="data row3 col1" >35,456</td>
      <td id="T_19ab2_row3_col2" class="data row3 col2" >2,866,578,606</td>
      <td id="T_19ab2_row3_col3" class="data row3 col3" >25.02%</td>
      <td id="T_19ab2_row3_col4" class="data row3 col4" >52,958</td>
      <td id="T_19ab2_row3_col5" class="data row3 col5" >35,319</td>
      <td id="T_19ab2_row3_col6" class="data row3 col6" >2,804,514,269</td>
      <td id="T_19ab2_row3_col7" class="data row3 col7" >25.11%</td>
    </tr>
    <tr>
      <th id="T_19ab2_level0_row4" class="row_heading level0 row4" >SVR</th>
      <td id="T_19ab2_row4_col0" class="data row4 col0" >10,861</td>
      <td id="T_19ab2_row4_col1" class="data row4 col1" >8,917</td>
      <td id="T_19ab2_row4_col2" class="data row4 col2" >117,953,790</td>
      <td id="T_19ab2_row4_col3" class="data row4 col3" >5.79%</td>
      <td id="T_19ab2_row4_col4" class="data row4 col4" >10,908</td>
      <td id="T_19ab2_row4_col5" class="data row4 col5" >8,987</td>
      <td id="T_19ab2_row4_col6" class="data row4 col6" >118,987,553</td>
      <td id="T_19ab2_row4_col7" class="data row4 col7" >5.89%</td>
    </tr>
    <tr>
      <th id="T_19ab2_level0_row5" class="row_heading level0 row5" >XGB</th>
      <td id="T_19ab2_row5_col0" class="data row5 col0" >2,501</td>
      <td id="T_19ab2_row5_col1" class="data row5 col1" >446</td>
      <td id="T_19ab2_row5_col2" class="data row5 col2" >6,254,799</td>
      <td id="T_19ab2_row5_col3" class="data row5 col3" >0.28%</td>
      <td id="T_19ab2_row5_col4" class="data row5 col4" >2,557</td>
      <td id="T_19ab2_row5_col5" class="data row5 col5" >447</td>
      <td id="T_19ab2_row5_col6" class="data row5 col6" >6,536,201</td>
      <td id="T_19ab2_row5_col7" class="data row5 col7" >0.30%</td>
    </tr>
    <tr>
      <th id="T_19ab2_level0_row6" class="row_heading level0 row6" >MLP</th>
      <td id="T_19ab2_row6_col0" class="data row6 col0" >877</td>
      <td id="T_19ab2_row6_col1" class="data row6 col1" >356</td>
      <td id="T_19ab2_row6_col2" class="data row6 col2" >769,119</td>
      <td id="T_19ab2_row6_col3" class="data row6 col3" >0.30%</td>
      <td id="T_19ab2_row6_col4" class="data row6 col4" >765</td>
      <td id="T_19ab2_row6_col5" class="data row6 col5" >348</td>
      <td id="T_19ab2_row6_col6" class="data row6 col6" >584,483</td>
      <td id="T_19ab2_row6_col7" class="data row6 col7" >0.30%</td>
    </tr>
  </tbody>
</table>
</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Resultados del Test BDS:
                          BDS_Stat              p_value  \
Ridge          0.39049622066326917   0.6961696494130757   
Lasso           0.4356148820585588   0.6631161714171481   
KNN              1.630669270536125  0.10296012401602096   
DecisionTree  -0.18832926825651072   0.8506185430863035   
SVR           -0.38461763210239674   0.7005207287186843   
XGB             0.1449928439176952   0.8847165218115558   
MLP            0.29506157773732233   0.7679468402170485   

                                Interpretaci√≥n  
Ridge         Residuos independientes (i.i.d.)  
Lasso         Residuos independientes (i.i.d.)  
KNN           Residuos independientes (i.i.d.)  
DecisionTree  Residuos independientes (i.i.d.)  
SVR           Residuos independientes (i.i.d.)  
XGB           Residuos independientes (i.i.d.)  
MLP           Residuos independientes (i.i.d.)  
</pre></div>
</div>
</div>
</div>
</section>
<section id="conclusion">
<h2><strong>Conclusi√≥n</strong><a class="headerlink" href="#conclusion" title="Link to this heading">#</a></h2>
<section id="resultados-del-test-bds">
<h3><strong>Resultados del Test BDS</strong><a class="headerlink" href="#resultados-del-test-bds" title="Link to this heading">#</a></h3>
<p>Todos los modelos (Ridge, Lasso, KNN, Decision Tree, SVR, XGB y MLP) muestran <strong>p-values &gt; 0.05</strong>, lo que significa que <strong>no rechazamos la hip√≥tesis nula de independencia.</strong></p>
<p>Los <strong>residuos parecen ser i.i.d. (independientes e id√©nticamente distribuidos)</strong>, lo cual es deseable en un modelo de regresi√≥n, porque indica que no hay evidencia de <strong>dependencia no lineal</strong> no explicada por los modelos.</p>
<p>El <strong>KNN</strong> fue el que m√°s cerca estuvo del umbral (p = 0.103), pero aun as√≠ se mantiene dentro del rango aceptable.</p>
<p>Modelos como <strong>DecisionTree y XGB</strong> tienen p-values muy altos (&gt;0.80), lo que refuerza la idea de que sus residuos son bastante aleatorios.</p>
<p><strong>En conclusi√≥n:</strong> ning√∫n modelo presenta problemas serios de dependencia en los residuos, lo cual respalda la validez de las m√©tricas que ya calculaste (RMSE, MAE, MSE, MAPE).</p>
</section>
<section id="conclusion-general">
<h3>Conclusi√≥n general:<a class="headerlink" href="#conclusion-general" title="Link to this heading">#</a></h3>
<p>El an√°lisis comparativo de modelos de regresi√≥n, evaluados mediante m√©tricas en la escala original de USD (MAE, MSE, RMSE y MAPE), evidencia diferencias significativas en la capacidad predictiva de los algoritmos considerados.</p>
<p>Los modelos <strong>XGBoost (XGB) y Multilayer Perceptron (MLP)</strong> presentan un desempe√±o claramente superior, con errores absolutos y relativos m√≠nimos (MAPE &lt; 1%), adem√°s de una adecuada capacidad de generalizaci√≥n entre los conjuntos de entrenamiento y prueba. Esto los posiciona como las alternativas m√°s robustas y confiables para la predicci√≥n de salarios en este contexto.</p>
<p>Los modelos <strong>KNN</strong> y <strong>SVR</strong> alcanzan resultados aceptables, con errores moderados (MAPE entre 2% y 6%), aunque no logran la precisi√≥n observada en XGB y MLP.</p>
<p>En contraste, los enfoques lineales <strong>(Ridge y Lasso)</strong> muestran un desempe√±o considerablemente inferior, con errores altos (MAPE ~10‚Äì12%) que reflejan su limitaci√≥n para capturar relaciones no lineales presentes en los datos. Finalmente, <strong>Decision Tree</strong> se caracteriza por una gran inestabilidad y altos errores relativos (MAPE ~25%), lo que lo hace inadecuado como soluci√≥n final.</p>
<p>En conjunto, los resultados indican que <strong>la incorporaci√≥n de modelos no lineales y de mayor complejidad</strong> (en particular, XGB y MLP) constituye la mejor estrategia para abordar este problema de predicci√≥n de salarios, maximizando precisi√≥n y consistencia en las estimaciones.</p>
</section>
<section id="recomendaciones">
<h3>üìå Recomendaciones<a class="headerlink" href="#recomendaciones" title="Link to this heading">#</a></h3>
<p>Con base en el an√°lisis comparativo de modelos (MAE, MSE, RMSE y MAPE en escala USD), se sugieren las siguientes recomendaciones para la predicci√≥n de salarios:</p>
<ul class="simple">
<li><p>‚úÖ <strong>Priorizar modelos de mejor desempe√±o:</strong><br />
Implementar <strong>XGBoost (XGB)</strong> o <strong>Multilayer Perceptron (MLP)</strong> como modelos principales, ya que alcanzan los <strong>menores errores relativos (MAPE &lt; 1%)</strong> y muestran gran capacidad de generalizaci√≥n.</p></li>
<li><p>‚öñÔ∏è <strong>Usar modelos intermedios como referencia:</strong><br />
<strong>KNN</strong> y <strong>SVR</strong> pueden considerarse como alternativas de contraste, con resultados moderados (MAPE entre 2% y 6%).</p></li>
<li><p>‚ùå <strong>Evitar modelos lineales en producci√≥n:</strong><br />
<strong>Ridge</strong> y <strong>Lasso</strong> presentan errores elevados (~10‚Äì12%), lo que indica limitaciones en la captura de relaciones complejas.</p></li>
<li><p>‚ö†Ô∏è <strong>Descartar √°rboles de decisi√≥n simples:</strong><br />
El <strong>Decision Tree</strong> mostr√≥ un error sustancial (MAPE ~25%) y alta inestabilidad, por lo que no se recomienda su uso en este contexto.</p></li>
</ul>
<p>üìä <strong>Recomendaci√≥n global:</strong><br />
Adoptar un enfoque basado en <strong>modelos no lineales y de mayor complejidad (XGB y MLP)</strong> garantiza mayor <strong>precisi√≥n y consistencia</strong> en las estimaciones salariales.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Modelos Cl√°sicos vs. Transformers: Un Enfoque Comparativo en Regresi√≥n Tabular</p>
      </div>
    </a>
    <a class="right-next"
       href="SalPredTrans_Improved_Grid.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><strong>Modelo original: SalPred‚ÄëTrans ‚Äî Transformer tabular cuant√≠lico + Conformal Prediction</strong></p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduccion"><strong>Introducci√≥n</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#objetivo"><strong>Objetivo</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#importaciones-y-configuracion-inicial">1. Importaciones y configuraci√≥n inicial</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#carga-de-datos-y-seleccion-de-columnas">2. Carga de datos y selecci√≥n de columnas</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-exploratorio-de-datos-eda">3. An√°lisis exploratorio de datos - EDA</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dataset"><strong>Dataset</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables"><strong>Variables</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#distribucion-de-variables-numericas">Distribuci√≥n de variables num√©ricas</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#distribucion-de-variables-categoricas">Distribuci√≥n de variables categ√≥ricas</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tasa-anual-de-contratacion-de-profesionales-en-ciencia-de-datos">Tasa anual de contrataci√≥n de profesionales en ciencia de datos</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#impacto-del-nivel-de-experiencia-en-las-oportunidades-de-empleo-cada-ano">Impacto del nivel de experiencia en las oportunidades de empleo cada a√±o</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cambio-de-salarios-a-lo-largo-del-tiemp">Cambio de salarios a lo largo del tiemp</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#distribucion-salarial-segun-el-nivel-de-experiencia">Distribuci√≥n salarial seg√∫n el nivel de experiencia</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#salarios-segun-el-tipo-de-empleo">Salarios seg√∫n el tipo de empleo</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#titulos-de-trabajo-con-los-salarios-promedios-mas-altos">T√≠tulos de trabajo con los salarios promedios m√°s altos</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#los-titulos-de-trabajo-mas-comunes">Los t√≠tulos de trabajo m√°s comunes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#impacto-del-trabajo-remoto-en-el-salario">Impacto del trabajo remoto en el salario</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#influencia-del-tamano-de-la-empresa-en-el-salario">Influencia del tama√±o de la empresa en el salario</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#relacion-entre-el-tamano-de-la-empresa-y-la-contratacion-de-empleados-remotos">Relaci√≥n entre el tama√±o de la empresa y la contrataci√≥n de empleados remotos</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#matriz-de-correlacion">Matriz de correlaci√≥n</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#split-train-test">4. Split Train / Test</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocesamiento">5. Preprocesamiento</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelos-y-busqueda-de-hiperparametros">6. Modelos y b√∫squeda de hiperpar√°metros</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#funciones-auxiliares">7. Funciones auxiliares</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loop-para-evaluar-modelos-graficas-bds-resultados-en-log">8. Loop para evaluar modelos + gr√°ficas + BDS - resultados en Log</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dataframe-de-resultados-y-grafico-comparativo-salario-en-usd">9. DataFrame de resultados y gr√°fico comparativo - Salario en USD</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion"><strong>Conclusi√≥n</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resultados-del-test-bds"><strong>Resultados del Test BDS</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion-general">Conclusi√≥n general:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#recomendaciones">üìå Recomendaciones</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>